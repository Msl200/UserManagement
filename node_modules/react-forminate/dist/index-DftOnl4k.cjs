"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const e=require("./index-Dbfxpke1.cjs"),b=require("react"),I=s=>{const{eventHandlers:m,fieldParams:t,fieldValue:l,isTouched:c}=e.useField(s);return e.jsxRuntimeExports.jsx("input",{...t,...m.htmlHandlers,value:l??"","data-touched":c})},V=s=>{const{eventHandlers:m,fieldParams:t,fieldValue:l,isTouched:c}=e.useField(s);return e.jsxRuntimeExports.jsx("input",{...t,...m.htmlHandlers,value:l||"","data-touched":c})},U=s=>{const{eventHandlers:m,processedProps:t,fieldParams:l,fieldValue:c,fieldId:a,isTouched:n,setValue:f}=e.useField(s),h=!t?.options,d=t?.layout||"column",r=p=>{const y=p.target.checked?"true":"false";y==="true"?f(a,t?.singlePositiveAnswerValue||y):f(a,t?.singleNegativeAnswerValue||"")},x={display:"flex",flexDirection:d==="inline"?"row":"column",gap:d==="inline"?"24px":"8px",flexWrap:"wrap",...t?.containerStyles},j={display:"flex",alignItems:"center",gap:"4px",cursor:"pointer",...t?.itemsStyles};return e.jsxRuntimeExports.jsx("div",{"data-testid":l["data-testid"],"data-touched":n,style:x,children:h?e.jsxRuntimeExports.jsxs("label",{htmlFor:a,style:j,className:t?.itemsClassName,children:[e.jsxRuntimeExports.jsx("input",{...l,...m.htmlHandlers,id:a,type:"checkbox",checked:c===t?.singlePositiveAnswerValue||c==="true",onChange:r}),t?.description&&e.jsxRuntimeExports.jsx("span",{children:t.description})]}):t?.options?.map((p,y)=>{const i=typeof p=="string",u=i?p:p.value,o=i?p:p.label;return e.jsxRuntimeExports.jsxs("label",{htmlFor:`${a}-item-${u}`,style:j,className:t.itemsClassName,children:[e.jsxRuntimeExports.jsx("input",{...l,...m.htmlHandlers,id:`${a}-item-${u}`,value:u,checked:c?.includes(u)||!1}),e.jsxRuntimeExports.jsx("span",{children:o})]},i?p:`${p.value}-${y}`)})})},H=({fieldId:s,as:m="fieldset",label:t,fields:l,className:c="",styles:a={},legendClassName:n="",legendStyles:f={},...h})=>e.jsxRuntimeExports.jsxs(m,{id:s,"data-testid":"group-field",className:c,style:a,...typeof h.disabled=="boolean"?{disabled:h.disabled}:{},...Object.fromEntries(Object.entries(h).filter(([d])=>d!=="disabled")),children:[m==="fieldset"&&e.jsxRuntimeExports.jsx("legend",{className:n,style:f,children:t}),l&&l.map(d=>e.jsxRuntimeExports.jsx(e.DynamicFormField,{...d},d.fieldId))]}),A=s=>{const{eventHandlers:m,processedProps:t,fieldParams:l,fieldValue:c,fieldId:a,dynamicOptions:n,isTouched:f}=e.useField(s),[h,d]=b.useState(t.options||[]);return b.useEffect(()=>{n&&n[a]&&d(n[a])},[n,a]),b.useEffect(()=>{let r=n?.[a]||t.options||[];const x=typeof r[0]=="string"?r.map(j=>({label:j,value:j})):r;d(x)},[n,a,t.options]),e.jsxRuntimeExports.jsxs("select",{...l,...m.htmlHandlers,value:c||"","data-touched":f,children:[e.jsxRuntimeExports.jsx("option",{value:"",disabled:!0,children:t.placeholder?t.placeholder:"Select an option"}),h.map((r,x)=>{const j=typeof r=="string",p=j?r:r.value,y=j?r:r.label;return e.jsxRuntimeExports.jsx("option",{value:p,children:y},j?r:`${r.value}-${x}`)})]})},$=s=>{const{eventHandlers:m,processedProps:t,fieldParams:l,fieldValue:c,isTouched:a}=e.useField(s),n=t?.layout||"inline",f={display:"flex",flexDirection:n==="inline"?"row":"column",gap:n==="inline"?"24px":"8px",flexWrap:"wrap",...t?.containerStyles},h={display:"flex",alignItems:"center",gap:"4px",cursor:"pointer",...t?.itemsStyles};return e.jsxRuntimeExports.jsx("div",{"data-testid":l["data-testid"],"data-touched":a,style:f,children:s.options?.map((d,r)=>{const x=typeof d=="string",j=x?d:d.value,p=x?d:d.label;return e.jsxRuntimeExports.jsxs("label",{style:h,className:t.itemsClassName,children:[e.jsxRuntimeExports.jsx("input",{...l,...m.htmlHandlers,...x?{}:d,value:j,checked:c===j}),e.jsxRuntimeExports.jsx("span",{children:p})]},x?d:`${d.value}-${r}`)})})},L=e.dt.div`
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
  gap: 1rem;
`,O=e.dt.div`
  border: 1px solid #ddd;
  border-radius: 8px;
  padding: 1rem;
  cursor: pointer;
  transition: background-color 0.2s ease;
  text-align: center;

  &:hover {
    background-color: #f9f9f9;
  }

  &.selected {
    background-color: #e0f2fe;
  }
`,T=e.dt.img`
  width: 100%;
  height: 120px;
  object-fit: cover;
  border-radius: 6px;
  margin-bottom: 0.5rem;
`,D=e.dt.div`
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-top: 1rem;
`,w=e.dt.button`
  background-color: #eee;
  padding: 0.5rem 1rem;
  border-radius: 4px;
  font-size: 0.875rem;
  cursor: pointer;
  &:disabled {
    opacity: 0.4;
    cursor: not-allowed;
  }
`,G=({fieldId:s,label:m,required:t,className:l="",styles:c={},containerClassName:a="",containerStyles:n={},itemsClassName:f="",itemsStyles:h={}})=>{const{values:d,setValue:r,dynamicOptions:x,fetchDynamicOptions:j,formSchema:p}=e.useForm(),[y,i]=b.useState(1),[u,o]=b.useState([]),[v,R]=b.useState(!1),E=p.fields.find(g=>g.fieldId===s),F=E?.dynamicOptions?.pagination,S=F?.limit||10,P=async()=>{R(!0),await j(s,d,{page:y,limit:S}),o(x[s]||[]),R(!1)};b.useEffect(()=>{E?.dynamicOptions?.fetchOnInit!==!1&&P()},[y]),b.useEffect(()=>{o(x[s]||[])},[x[s]]);const k=g=>{r(s,g.value)},C=()=>i(g=>g+1),N=()=>i(g=>Math.max(g-1,1));return e.jsxRuntimeExports.jsxs(e.FieldWrapper,{id:s,label:m,required:t,className:a,styles:n,children:[e.jsxRuntimeExports.jsx(L,{className:l,style:c,children:v?e.jsxRuntimeExports.jsx("div",{style:{gridColumn:"1 / -1",textAlign:"center"},children:"Loading..."}):u.map(g=>e.jsxRuntimeExports.jsxs(O,{className:`${f} ${d[s]===g.value?"selected":""}`,style:h,onClick:()=>k(g),children:[g.image&&e.jsxRuntimeExports.jsx(T,{src:g.image,alt:g.label}),e.jsxRuntimeExports.jsx("div",{className:"font-semibold",children:g.label}),g.price&&e.jsxRuntimeExports.jsxs("div",{className:"text-sm text-gray-500",children:["$",g.price]})]},g.value))}),e.jsxRuntimeExports.jsxs(D,{children:[e.jsxRuntimeExports.jsx(w,{onClick:N,disabled:y<=1||v,children:"Previous"}),e.jsxRuntimeExports.jsxs("span",{className:"text-sm",children:["Page ",y]}),e.jsxRuntimeExports.jsx(w,{onClick:C,disabled:!!(v||F?.maxPage&&y>=F.maxPage),children:"Next"})]})]})},M=({as:s="div",fieldId:m,columns:t=1,gap:l=16,fields:c,containerStyles:a,containerClassName:n,styles:f,className:h,itemsStyles:d,itemsClassName:r,children:x,header:j,footer:p,itemsParentAttributes:y,...i})=>{const u=(o,v,R)=>({...v,...R,...o&&{gridColumn:`span ${o} / span ${o}`}});return e.jsxRuntimeExports.jsxs("div",{style:a,className:n,children:[j,e.jsxRuntimeExports.jsxs(s,{className:h,style:{display:"grid",gridTemplateColumns:`repeat(${t}, 1fr)`,gap:l,...f},...i,children:[c.map(o=>{const{colSpan:v,style:R,...E}=y?.[o.fieldId]||{};return e.jsxRuntimeExports.jsx("div",{className:r,style:u(v,d,R),...E,children:e.jsxRuntimeExports.jsx(e.DynamicFormField,{...o})},o.fieldId)}),x]}),p]})},W=s=>{const{eventHandlers:m,fieldParams:t,fieldValue:l,isTouched:c}=e.useField(s);return e.jsxRuntimeExports.jsx("textarea",{...t,...m.htmlHandlers,value:l||"","data-touched":c})},z=({as:s="div",fieldId:m,width:t="100%",height:l=16,className:c="",styles:a={},children:n,...f})=>e.jsxRuntimeExports.jsx(s,{"data-testid":"spacer-field",id:m,className:c,style:{width:t,height:l,...a},...f,children:n}),B=s=>{const{eventHandlers:m,fieldParams:t,fieldValue:l=null,isTouched:c,setValue:a}=e.useField(s),n=s.storageFormat||"file",[f,h]=b.useState([]),{htmlHandlers:d,customHandlers:r}=m,x=b.useCallback(async i=>{switch(n){case"file":return i;case"fileList":return[i];case"base64":return new Promise(u=>{const o=new FileReader;o.onload=()=>u(o.result),o.readAsDataURL(i)});case"blobUrl":return URL.createObjectURL(i);case"arrayBuffer":return new Promise(u=>{const o=new FileReader;o.onload=()=>u(o.result),o.readAsArrayBuffer(i)});case"remoteUrl":return`https://example.com/uploads/${i.name}`;case"metadata":return{name:i.name,type:i.type,size:i.size,lastModified:i.lastModified};default:return i}},[n]),j=b.useCallback(async i=>{if(!i.target.files||i.target.files.length===0)return;const u=Array.from(i.target.files),o=await Promise.all(u.map(x));if(["base64","blobUrl"].includes(n)){const v=u.map(R=>URL.createObjectURL(R));h(v)}n==="fileList"?a(s.fieldId,i.target.files):a(s.fieldId,o.length===1?o[0]:o),r?.onUpload&&r.onUpload(o,s.fieldId)},[x,n,a,s.fieldId,r]),p=b.useCallback(async i=>{if(!Array.isArray(l))return;const u=l[i],o=l.filter((v,R)=>R!==i);n==="blobUrl"&&typeof u=="string"&&URL.revokeObjectURL(u),a(s.fieldId,o.length===0?null:o),h(v=>v.filter((R,E)=>E!==i)),r?.onRemove&&r.onRemove(u,s.fieldId)},[l,n,a,s.fieldId,r]),y=b.useMemo(()=>{if(s.accept)return Array.isArray(s.accept)?s.accept.join(","):s.accept},[s.accept]);return e.jsxRuntimeExports.jsxs("div",{className:"file-input-container",children:[e.jsxRuntimeExports.jsx("input",{...t,...d,type:"file",onChange:j,accept:y,multiple:s.multiple,"data-touched":c}),e.jsxRuntimeExports.jsx("div",{className:"file-previews",children:Array.isArray(l)?l.map((i,u)=>e.jsxRuntimeExports.jsxs("div",{className:"file-preview",children:[n==="blobUrl"||n==="base64"?e.jsxRuntimeExports.jsx("img",{src:f[u]||(typeof i=="string"?i:""),alt:"Preview"}):e.jsxRuntimeExports.jsx("span",{children:i.name||i}),e.jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>p(u),className:"remove-file",children:"Remove"})]},u)):l?e.jsxRuntimeExports.jsxs("div",{className:"file-preview",children:[n==="blobUrl"||n==="base64"?e.jsxRuntimeExports.jsx("img",{src:f[0]||(typeof l=="string"?l:""),alt:"Preview"}):e.jsxRuntimeExports.jsx("span",{children:l.name||l}),e.jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>{a(s.fieldId,null),h([]),r?.onRemove&&r.onRemove(l,s.fieldId)},className:"remove-file",children:"Remove"})]}):null})]})};exports.CheckboxField=U;exports.ContainerField=M;exports.DatePickerField=V;exports.GridViewField=G;exports.GroupField=H;exports.InputField=I;exports.InputFileField=B;exports.RadioField=$;exports.SelectField=A;exports.SpacerField=z;exports.TextareaField=W;
//# sourceMappingURL=index-DftOnl4k.cjs.map
